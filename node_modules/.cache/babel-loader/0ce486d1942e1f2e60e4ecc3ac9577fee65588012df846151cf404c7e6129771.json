{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import Loader from\"../Common/Loader\";import\"./User.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditUser=()=>{const[user,setUser]=useState([]);const[error,setError]=useState(null);const[isLoading,setIsLoading]=useState(false);const{id}=useParams();const navigate=useNavigate();const getUserApi=\"https://67028a6bbd7c8c1ccd3f27a6.mockapi.io/user\";useEffect(()=>{getUser();},[]);const getUser=()=>{axios.get(getUserApi.concat(\"/\")+id).then(item=>{setUser(item.data);}).catch(err=>{console.log(err);});};const handelInput=e=>{e.preventDefault();const{name,value}=e.target;console.log(name,value);setUser({...user,[name]:value});};const handelSubmit=e=>{e.preventDefault();fetch(getUserApi.concat(\"/\")+id,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(response=>{if(!response.ok){throw new Error(\"Network response was not ok\");}return response.json();}).then(data=>{setIsLoading(true);navigate(\"/show-user\");}).catch(error=>{setError(error.message);setIsLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),/*#__PURE__*/_jsx(\"p\",{children:\"Edit Form\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handelSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",value:user.name,onChange:handelInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:user.email,onChange:handelInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"pwd\",className:\"form-label\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"phone\",name:\"phone\",value:user.phone,onChange:handelInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"studentId\",className:\"form-label\",children:\"Student ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"studentId\",name:\"studentId\",value:user.studentId,onChange:handelInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"major\",className:\"form-label\",children:\"Major\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"major\",name:\"major\",value:user.major,onChange:handelInput})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary submit-btn\",children:\"EDIT\"})]})]});};export default EditUser;","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","useNavigate","Loader","jsx","_jsx","jsxs","_jsxs","EditUser","user","setUser","error","setError","isLoading","setIsLoading","id","navigate","getUserApi","getUser","get","concat","then","item","data","catch","err","console","log","handelInput","e","preventDefault","name","value","target","handelSubmit","fetch","method","headers","body","JSON","stringify","response","ok","Error","json","message","className","children","onSubmit","for","type","onChange","email","phone","htmlFor","studentId","major"],"sources":["/Users/pro/github-classroom/2024OSS/5-assignment-4-2-react-practice-xlxhollywood/src/components/User/EditUser.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Loader from \"../Common/Loader\";\nimport \"./User.css\";\nconst EditUser = () => {\n  const [user, setUser] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const getUserApi = \"https://67028a6bbd7c8c1ccd3f27a6.mockapi.io/user\";\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const getUser = () => {\n    axios\n      .get(getUserApi.concat(\"/\") + id)\n      .then((item) => {\n        setUser(item.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handelInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    console.log(name, value);\n    setUser({ ...user, [name]: value });\n  };\n\n  const handelSubmit = (e) => {\n    e.preventDefault();\n\n    fetch(getUserApi.concat(\"/\") + id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        setIsLoading(true);\n        navigate(\"/show-user\");\n      })\n      .catch((error) => {\n        setError(error.message);\n        setIsLoading(false);\n      })\n  };\n\n  return (\n    <div className=\"user-form\">\n      <div className=\"heading\">\n      {isLoading && <Loader />}\n      {error && <p>Error: {error}</p>}\n        <p>Edit Form</p>\n      </div>\n      <form onSubmit={handelSubmit}>\n        <div className=\"mb-3\">\n          <label for=\"name\" className=\"form-label\">\n            Name\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"name\"\n            name=\"name\"\n            value={user.name}\n            onChange={handelInput}\n          />\n        </div>\n        <div className=\"mb-3 mt-3\">\n          <label for=\"email\" className=\"form-label\">\n            Email\n          </label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            name=\"email\"\n            value={user.email}\n            onChange={handelInput}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label for=\"pwd\" className=\"form-label\">\n            Phone\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"phone\"\n            name=\"phone\"\n            value={user.phone}\n            onChange={handelInput}\n          />\n        </div>\n\n        {/* Student ID Field (학번 필드 추가) */}\n        <div className=\"mb-3\">\n          <label htmlFor=\"studentId\" className=\"form-label\">\n            Student ID\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"studentId\"\n            name=\"studentId\"\n            value={user.studentId}\n            onChange={handelInput}\n          />\n        </div>\n\n        {/* Major Field (전공 필드 추가) */}\n        <div className=\"mb-3\">\n          <label htmlFor=\"major\" className=\"form-label\">\n            Major\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"major\"\n            name=\"major\"\n            value={user.major}\n            onChange={handelInput}\n          />\n        </div>\n        \n        <button type=\"submit\" className=\"btn btn-primary submit-btn\">\n          EDIT\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default EditUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}